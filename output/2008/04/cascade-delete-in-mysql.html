<!doctype html>
<!-- https://github.com/paulirish/html5-boilerplate/blob/master/index.html -->
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    
    <!-- encoding must be specified within the first 512 bytes
        www.whatwg.org/specs/web-apps/current-work/multipage/semantics.html#charset -->
    <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
        Remove this if you use the .htaccess
    <meta http-equiv="X-UA-Compatible" content="" -->>


    <!-- meta element for compatibility mode needs to be before
        all elements except title & meta
        msdn.microsoft.com/en-us/library/cc288325(VS.85).aspx -->
    <!-- Chrome Frame is only invoked if meta element for
        compatibility mode is within the first 1K bytes
        code.google.com/p/chromium/issues/detail?id=23003 -->

    <title>kfirbreger.com</title>
    <meta name="author" content="Kfir Breger">

    <!--  Mobile viewport optimized: j.mp/bplateviewport -->
    <meta name="viewport" content="">

    
    <!-- Place favicon.ico & apple-touch-icon.png
        in the root of your domain and delete these references -->
    <link rel="shortcut icon" href="/theme/favicon.ico">
    <link rel="apple-touch-icon" href="/theme/apple-touch-icon.png">
    

    
    <link rel="stylesheet" href="/theme/css/bootstrap.min.css">
    <link rel="stylesheet" href="/theme/css/bootstrap-responsive.min.css">
    

    
    <!-- All JavaScript at the bottom, except for Modernizr which
        enables HTML5 elements & feature detects
        <script src="/theme/js/modernizr.foundation.js"></script> -->
    
    
    
</head>
<body>
    
    <div id="container">
        
        <div id="main" role="main">
            <header class="banner clearfix">
                
    <h1 class="article-title">
        <a href="" rel="bookmark" title="Permalink to Cascade delete in MySQL">Cascade delete in MySQL</a>
    </h1>

                
                <nav>
                </nav>
                
            </header>
            
<section id="article">
    <article>
        <p>Now that I am actually getting payed to program instead of paying to program,
I find myself in greater need of practical information. Putting some of it on
my blog will help me keep all the knowledge in one place. To start off, I'll
mention Cascading delete in SQL. In the database schema there are 3 tables
used to store different objects. As there is a many to many relationship
between the the objects, there are relation tables.</p>
<p><img alt="Basic database layout" src="../../static/static/images" title="/db-layout.png" /></p>
<p>Using cascading delete I can define that if an object is removed from its
table, all relation tables entries with that object id are also removed. Quite
handy. the way this achieves is MySQL is through the use of foreign keys. If I
define in the table members the unique id of a user as a foreign key I can
also define tell the RDMS to delete the entries in members where that foreign
key exist. Here is an example of the definitions:</p>
<p>` CREATE TABLE members (</p>
<p>usr_id VARCHAR(30) NOT NULL,</p>
<p>grp_id VARCHAR(30) NOT NULL,</p>
<p>FOREIGN KEY usr_id REFERENCE user (usr_id) ON DELETE CASCADE,</p>
<p>FOREIGN KEY grp_id REFERENCE group (grp_id) ON DELETE CASCADE); `</p>
<p>As you can see the table is created normally by defining the fields, then the
foreign keys are named. The REFERENCE shows to which column in what table they
refer to.</p>
    </article>
    
    <p>tags:
        
            <a href="../.././">programming</a>
        
            <a href="../.././">work</a>
        
    </p>


    <div class="share">
        
    <a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="kfirbreger">Tweet</a>
    <script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>

    </div>
</section>

        </div>
        
    </div> <!--! end of #container -->
    <footer>
        
        
    </footer>
    
    
    <!-- Javascript at the bottom for fast page loading -->
    
    <!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if necessary -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.js"></script>
    <script>window.jQuery || document.write('<script src="js/libs/jquery.min.js">\x3C/script>')</script>
    

    
    <script src="/theme/js/bootstrap.js"></script>
    
    
</body>
</html>